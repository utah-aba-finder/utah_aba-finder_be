---
openapi: 3.0.1
info:
  title: Autism Service Locator API
  version: v1
components:
  securitySchemes:
    bearer_auth:
      type: http
      scheme: bearer
      bearerFormat: JWT
paths:
  "/api/v1/insurances":
    get:
      summary: list insurances
      tags:
      - Insurances
      description: Retrieves a list of all insurance providers.
      security: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                example:
                  data:
                  - id: 1
                    type: insurance
                    attributes:
                      name: Contact us
                  - id: 2
                    type: insurance
                    attributes:
                      name: Administrator Benefits
                  - id: 3
                    type: insurance
                    attributes:
                      name: Aetna
                  - id: 4
                    type: insurance
                    attributes:
                      name: Meritain (Aetna)
                  - id: 5
                    type: insurance
                    attributes:
                      name: Anthem (BCBS)
                  - id: 6
                    type: insurance
                    attributes:
                      name: Regence (BCBS)
                  - id: 7
                    type: insurance
                    attributes:
                      name: Beacon Health
                  - id: 8
                    type: insurance
                    attributes:
                      name: Blue Cross Blue Shield (BCBS)
                  - id: 9
                    type: insurance
                    attributes:
                      name: Cigna
                  - id: 10
                    type: insurance
                    attributes:
                      name: Compsych
                  - id: 11
                    type: insurance
                    attributes:
                      name: Deseret Mutual Benefit Administrators (DMBA)
                  - id: 12
                    type: insurance
                    attributes:
                      name: EMI Health
                  - id: 13
                    type: insurance
                    attributes:
                      name: Evernorth (Cigna)
                  - id: 15
                    type: insurance
                    attributes:
                      name: Health Choice Utah
                  - id: 16
                    type: insurance
                    attributes:
                      name: Healthy U Medicaid (University of Utah Health Plans)
                  - id: 18
                    type: insurance
                    attributes:
                      name: Magellan
                  - id: 19
                    type: insurance
                    attributes:
                      name: Medicaid
                  - id: 20
                    type: insurance
                    attributes:
                      name: Molina
                  - id: 21
                    type: insurance
                    attributes:
                      name: MotivHealth
                  - id: 22
                    type: insurance
                    attributes:
                      name: Optum (UnitedHealth Group)
                  - id: 24
                    type: insurance
                    attributes:
                      name: Select Health
                  - id: 25
                    type: insurance
                    attributes:
                      name: Tall Tree
                  - id: 26
                    type: insurance
                    attributes:
                      name: TRICARE
                  - id: 27
                    type: insurance
                    attributes:
                      name: UMR (UHC)
                  - id: 28
                    type: insurance
                    attributes:
                      name: United Behavioral Health (UBH)
                  - id: 29
                    type: insurance
                    attributes:
                      name: United HealthCare (UHC)
                  - id: 30
                    type: insurance
                    attributes:
                      name: University of Utah Health Plans
                  - id: 31
                    type: insurance
                    attributes:
                      name: Utah’s Children’s Health Insurance Program (CHIP)
                  - id: 32
                    type: insurance
                    attributes:
                      name: Utah Services for People with Disabilities (DSPD)
                  - id: 33
                    type: insurance
                    attributes:
                      name: Wise Imagine
                  - id: 184
                    type: insurance
                    attributes:
                      name: Keystone Health Plan East
                  - id: 36
                    type: insurance
                    attributes:
                      name: Medicare
                  - id: 14
                    type: insurance
                    attributes:
                      name: Flexible Spending Account (FSA)
                  - id: 17
                    type: insurance
                    attributes:
                      name: Health Savings Account (HSA)
                  - id: 23
                    type: insurance
                    attributes:
                      name: Public Employees Health Program (PEHP)
                  - id: 37
                    type: insurance
                    attributes:
                      name: UnitedHealth Group
                  - id: 40
                    type: insurance
                    attributes:
                      name: Horizon (BCBS)
                  - id: 41
                    type: insurance
                    attributes:
                      name: Private Pay Only
                  - id: 42
                    type: insurance
                    attributes:
                      name: Amerigroup
                  - id: 43
                    type: insurance
                    attributes:
                      name: Arizona Health Care Cost Containment System (AHCCS)
                  - id: 67
                    type: insurance
                    attributes:
                      name: Health Plan of Nevada
                  - id: 68
                    type: insurance
                    attributes:
                      name: Silver Summit Health Plan
                  - id: 69
                    type: insurance
                    attributes:
                      name: Sierra Health and Life (A UnitedHealthcare Company)
                  - id: 70
                    type: insurance
                    attributes:
                      name: MVP Health Care
                  - id: 100
                    type: insurance
                    attributes:
                      name: New Hampshire Department of Health & Human Services (DHHS)
                  - id: 101
                    type: insurance
                    attributes:
                      name: NJ Family Care
                  - id: 102
                    type: insurance
                    attributes:
                      name: Capital District Physicians' Health Plan (CDPHP)
                  - id: 103
                    type: insurance
                    attributes:
                      name: Carelon
                  - id: 104
                    type: insurance
                    attributes:
                      name: Ambetter
                  - id: 105
                    type: insurance
                    attributes:
                      name: NC Medicaid Division of Health Benefits (NCDHHS)
                  - id: 106
                    type: insurance
                    attributes:
                      name: Buckeye Health Plan
                  - id: 107
                    type: insurance
                    attributes:
                      name: Medical Mutual of Ohio
                  - id: 108
                    type: insurance
                    attributes:
                      name: Sooner Care
                  - id: 109
                    type: insurance
                    attributes:
                      name: Health First
                  - id: 110
                    type: insurance
                    attributes:
                      name: Bright Healthcare
                  - id: 111
                    type: insurance
                    attributes:
                      name: Kaiser Permanente
                  - id: 112
                    type: insurance
                    attributes:
                      name: CardinalCare
                  - id: 113
                    type: insurance
                    attributes:
                      name: CareFirst
                  - id: 114
                    type: insurance
                    attributes:
                      name: AvMed
                  - id: 115
                    type: insurance
                    attributes:
                      name: Oscar
                  - id: 116
                    type: insurance
                    attributes:
                      name: Nebraska total care
                  - id: 117
                    type: insurance
                    attributes:
                      name: Priority Partners
                  - id: 118
                    type: insurance
                    attributes:
                      name: Maryland Department of Health
                  - id: 119
                    type: insurance
                    attributes:
                      name: Wellpoint
                  - id: 120
                    type: insurance
                    attributes:
                      name: Delaware Health and Social Services (DHSS)
                  - id: 121
                    type: insurance
                    attributes:
                      name: Humana
                  - id: 133
                    type: insurance
                    attributes:
                      name: MDwise
                  - id: 134
                    type: insurance
                    attributes:
                      name: Managed Health Insurance (MHS)
                  - id: 166
                    type: insurance
                    attributes:
                      name: Highmark
                  - id: 167
                    type: insurance
                    attributes:
                      name: Capital
                  - id: 168
                    type: insurance
                    attributes:
                      name: Quest Behavioral Health
                  - id: 192
                    type: insurance
                    attributes:
                      name: Community Health Network
                  - id: 170
                    type: insurance
                    attributes:
                      name: PerformCare
                  - id: 171
                    type: insurance
                    attributes:
                      name: Aetna Behavioral Health of PA
                  - id: 172
                    type: insurance
                    attributes:
                      name: Amerihealth Administrators
                  - id: 173
                    type: insurance
                    attributes:
                      name: Amerihealth HMO
                  - id: 174
                    type: insurance
                    attributes:
                      name: Amerihealth PPO
                  - id: 175
                    type: insurance
                    attributes:
                      name: Capitol Blue Cross
                  - id: 176
                    type: insurance
                    attributes:
                      name: 'CHIP: UPMC for Kids'
                  - id: 177
                    type: insurance
                    attributes:
                      name: 'CHIP: Capitol Blue Cross'
                  - id: 178
                    type: insurance
                    attributes:
                      name: 'CHIP: Keystone Health Plan East'
                  - id: 179
                    type: insurance
                    attributes:
                      name: Cigna Behavioral Health of PA
                  - id: 180
                    type: insurance
                    attributes:
                      name: Community Behavioral Health
                  - id: 169
                    type: insurance
                    attributes:
                      name: Community Care Behavioral Health
                  - id: 181
                    type: insurance
                    attributes:
                      name: Empire (BCBS)
                  - id: 182
                    type: insurance
                    attributes:
                      name: Independence Administrators
                  - id: 183
                    type: insurance
                    attributes:
                      name: Independence Blue Cross
                  - id: 185
                    type: insurance
                    attributes:
                      name: Magellan Behavioral Health of PA
                  - id: 186
                    type: insurance
                    attributes:
                      name: MHC
                  - id: 187
                    type: insurance
                    attributes:
                      name: Optum Behavioral Health
                  - id: 188
                    type: insurance
                    attributes:
                      name: University of Pittsburgh Medical Center (UPMC)
                  - id: 189
                    type: insurance
                    attributes:
                      name: CareSource
                  - id: 190
                    type: insurance
                    attributes:
                      name: Peach State Health Plan
                  - id: 191
                    type: insurance
                    attributes:
                      name: WellCare
                  - id: 193
                    type: insurance
                    attributes:
                      name: Ascension
  "/api/v1/providers":
    get:
      summary: list providers
      tags:
      - Providers
      description: Retrieves a list of providers where their status is approved.
      security: []
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        type:
                          type: string
                        states:
                          type: array
                          items:
                            type: string
                        attributes:
                          type: object
                          properties:
                            name:
                              type: string
                            provider_type:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                  name:
                                    type: string
                            locations:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                  name:
                                    type: string
                                  address_1:
                                    type: string
                                  address_2:
                                    type: string
                                    nullable: true
                                  city:
                                    type: string
                                  state:
                                    type: string
                                  zip:
                                    type: string
                                  phone:
                                    type: string
                            website:
                              type: string
                            email:
                              type: string
                            cost:
                              type: string
                            insurance:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                  name:
                                    type: string
                                  accepted:
                                    type: boolean
                            counties_served:
                              type: array
                              items:
                                type: object
                                properties:
                                  county_id:
                                    type: integer
                                  county_name:
                                    type: string
                            min_age:
                              type: number
                              nullable: true
                            max_age:
                              type: number
                              nullable: true
                            waitlist:
                              type: string
                              nullable: true
                            telehealth_services:
                              type: string
                              nullable: true
                            spanish_speakers:
                              type: string
                              nullable: true
                            at_home_services:
                              type: string
                              nullable: true
                            in_clinic_services:
                              type: string
                              nullable: true
                            logo:
                              type: string
                              nullable: true
                            updated_last:
                              type: string
                              format: date-time
                            status:
                              type: string
  "/api/v1/providers/{id}":
    get:
      summary: get provider by ID
      tags:
      - Providers
      description: Retrieves a single provider by their ID. Requires User login with
        authorization to access that providers info.
      security:
      - bearer_auth: []
      parameters:
      - name: id
        in: path
        description: ID of the provider
        example: 61
        required: true
        schema:
          type: integer
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        type:
                          type: string
                        states:
                          type: array
                          items:
                            type: string
                        attributes:
                          type: object
                          properties:
                            name:
                              type: string
                            provider_type:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                  name:
                                    type: string
                            locations:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                  name:
                                    type: string
                                  address_1:
                                    type: string
                                  address_2:
                                    type: string
                                    nullable: true
                                  city:
                                    type: string
                                  state:
                                    type: string
                                  zip:
                                    type: string
                                  phone:
                                    type: string
                            website:
                              type: string
                            email:
                              type: string
                            cost:
                              type: string
                            insurance:
                              type: array
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                  name:
                                    type: string
                                  accepted:
                                    type: boolean
                            counties_served:
                              type: array
                              items:
                                type: object
                                properties:
                                  county_id:
                                    type: integer
                                  county_name:
                                    type: string
                            min_age:
                              type: number
                              nullable: true
                            max_age:
                              type: number
                              nullable: true
                            waitlist:
                              type: string
                              nullable: true
                            telehealth_services:
                              type: string
                              nullable: true
                            spanish_speakers:
                              type: string
                              nullable: true
                            at_home_services:
                              type: string
                              nullable: true
                            in_clinic_services:
                              type: string
                              nullable: true
                            logo:
                              type: string
                              nullable: true
                            updated_last:
                              type: string
                              format: date-time
                            status:
                              type: string
        '401':
          description: unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                example:
                  error: Unauthorized
    patch:
      summary: update provider
      tags:
      - Providers
      description: Updates an existing provider. Requires User login with authorization
        to modify provider info.
      security:
      - bearer_auth: []
      parameters:
      - name: id
        in: path
        required: true
        description: ID of the provider to update
        example: 61
        schema:
          type: integer
      responses:
        '200':
          description: successful
          content:
            application/json:
              schema:
                example:
                  data:
                  - id: 61
                    type: provider
                    states:
                    - Utah
                    attributes:
                      name: Example Creation
                      provider_type:
                      - id: 1
                        name: ABA Therapy
                      locations:
                      - id: 760
                        name: testing_grounds
                        address_1:
                        address_2:
                        city:
                        state:
                        zip:
                        phone: 111-111-1111
                      website: https://www.testing.com
                      email: info@testing.com
                      cost: N/A
                      insurance:
                      - name: Contact us
                        id: 1
                        accepted: true
                      counties_served:
                      - county_id: 2
                        county_name: Box Elder
                      - county_id: 1
                        county_name: Beaver
                      min_age: 2.0
                      max_age: 16.0
                      waitlist: 'No'
                      telehealth_services: 'Yes'
                      spanish_speakers: 'Yes'
                      at_home_services:
                      in_clinic_services:
                      logo: example_logo@logo.com
                      updated_last: '2025-01-29T22:34:46.947Z'
                      status: pending
        '401':
          description: unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Unauthorized
      requestBody:
        content:
          application/json:
            schema:
              example:
                data:
                - id: 61
                  type: provider
                  states:
                  - Utah
                  attributes:
                    name: Example Creation
                    provider_type:
                    - id: 1
                      name: ABA Therapy
                    locations:
                    - id: 760
                      name: testing_grounds
                      address_1:
                      address_2:
                      city:
                      state:
                      zip:
                      phone: 111-111-1111
                    website: https://www.testing.com
                    email: info@testing.com
                    cost: N/A
                    insurance:
                    - name: Contact us
                      id: 1
                      accepted: true
                    counties_served:
                    - county_id: 2
                      county_name: Box Elder
                    - county_id: 1
                      county_name: Beaver
                    min_age: 2.0
                    max_age: 16.0
                    waitlist: 'No'
                    telehealth_services: 'Yes'
                    spanish_speakers: 'Yes'
                    at_home_services:
                    in_clinic_services:
                    logo: example_logo@logo.com
                    updated_last: '2025-01-29T22:34:46.947Z'
                    status: pending
  "/signup":
    post:
      summary: Registers a new user
      tags:
      - Users
      security: []
      parameters: []
      responses:
        '200':
          description: User successfully registered
          headers:
            Authorization:
              schema:
                type: string
                description: JWT Bearer token for user authorization
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      code:
                        type: integer
                        example: 200
                      message:
                        type: string
                        example: Signed up successfully.
                    required:
                    - code
                    - message
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      email:
                        type: string
                        format: email
                        example: user@example.com
                      created_at:
                        type: string
                        format: date-time
                      provider_id:
                        type: string
                        nullable: true
                        example: '61'
                      role:
                        type: string
                        enum:
                        - super_admin
                        - provider_admin
                        example: provider_admin
                      created_date:
                        type: string
                        example: 01/01/2025
                    required:
                    - id
                    - email
                    - created_at
                    - role
                required:
                - status
                - data
        '422':
          description: User registration failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      code:
                        type: integer
                        example: 422
                      message:
                        type: string
                        example: User couldn't be created successfully.
                    required:
                    - code
                    - message
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    email:
                      type: string
                      format: email
                      example: user@example.com
                    password:
                      type: string
                      format: password
                      example: password123
                      minLength: 6
                    password_confirmation:
                      type: string
                      format: password
                      example: password123
                      minLength: 6
                    provider_id:
                      type: string
                      example: '61'
                  required:
                  - email
                  - password
                  - password_confirmation
            examples:
              User registration example:
                summary: Example parameters for user registration request
                value:
                  user:
                    email: user@example.com
                    password: password123
                    password_confirmation: password123
                    provider_id: 61 (ID Will be currently set to nil by default at
                      this time)
        required: true
  "/login":
    post:
      summary: Logs in a user and returns a JWT token
      tags:
      - Users
      security: []
      parameters: []
      responses:
        '200':
          description: Login successful
          headers:
            Authorization:
              schema:
                type: string
              description: JWT token in Bearer format
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      code:
                        type: integer
                        example: 200
                      message:
                        type: string
                        example: Logged in successfully
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      email:
                        type: string
                        format: email
                        example: test@example.com
                      created_at:
                        type: string
                        format: date-time
                      provider_id:
                        type: integer
                        nullable: true
                        example: 61
                      role:
                        type: string
                        example: provider_admin
        '401':
          description: Invalid login credentials
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      error:
                        type: string
                        example: Invalid Email or password.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    email:
                      type: string
                      example: test@example.com
                    password:
                      type: string
                      example: password123
                  required:
                  - email
                  - password
            examples:
              User login example:
                summary: Example parameters for user login request
                value:
                  user:
                    email: test@example.com
                    password: password123
servers:
- url: https://uta-aba-finder-be-97eec9f967d0.herokuapp.com/
  description: Deployed Server
  variables:
    defaultHost:
      default: www.heroku.com
- url: http://localhost:3000
  description: Local Development Server
security:
- bearer_auth: []
